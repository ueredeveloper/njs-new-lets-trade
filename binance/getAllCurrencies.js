const getClient = require('./getClient');

module.exports = getAllCurrencies = async function () {

    // Moedas listadas na binance
    /*let listedCoins =   [
        "BTCUSDT",
        "1INCHUSDT",
        "AAVEUSDT",
        "ACMUSDT",
        "ADAUSDT",
        "ALGOUSDT",
        "ALICEUSDT",
        "ALPHAUSDT",
        "ANKRUSDT",
        "ARDRUSDT",
        "ARPAUSDT",
        "ARUSDT",
        "ASRUSDT",
        "ATAUSDT",
        "ATMUSDT",
        "ATOMUSDT",
        "AUDIOUSDT",
        "AVAUSDT",
        "AVAXUSDT",
        "AXSUSDT",
        "BAKEUSDT",
        "BANDUSDT",
        "BATUSDT",
        "BCHUSDT",
        "BELUSDT",
        "BNTUSDT",
        "C98USDT",
        "CAKEUSDT",
        "CELOUSDT",
        "CELRUSDT",
        "CFXUSDT",
        "CHRUSDT",
        "CHZUSDT",
        "CKBUSDT",
        "COMPUSDT",
        "COSUSDT",
        "COTIUSDT",
        "CRVUSDT",
        "CTKUSDT",
        "CTSIUSDT",
        "CVCUSDT",
        "DASHUSDT",
        "DATAUSDT",
        "DCRUSDT",
        "DEGOUSDT",
        "DENTUSDT",
        "DEXEUSDT",
        "DGBUSDT",
        "DIAUSDT",
        "DODOUSDT",
        "DOGEUSDT",
        "DOTUSDT",
        "DUSKUSDT",
        "EGLDUSDT",
        "ENJUSDT",
        "EOSUSDT",
        "ETCUSDT",
        "EURUSDT",
        "FARMUSDT",
        "FETUSDT",
        "FILUSDT",
        "FIOUSDT",
        "FISUSDT",
        "FLMUSDT",
        "FLOWUSDT",
        "FORTHUSDT",
        "FTTUSDT",
        "FUNUSDT",
        "GRTUSDT",
        "GTCUSDT",
        "HBARUSDT",
        "HIVEUSDT",
        "HOTUSDT",
        "ICPUSDT",
        "ICXUSDT",
        "INJUSDT",
        "IOSTUSDT",
        "IOTAUSDT",
        "IOTXUSDT",
        "JSTUSDT",
        "JUVUSDT",
        "KAVAUSDT",
        "KMDUSDT",
        "KNCUSDT",
        "KSMUSDT",
        "LINKUSDT",
        "LPTUSDT",
        "LRCUSDT",
        "LSKUSDT",
        "LTCUSDT",
        "LTOUSDT",
        "LUNAUSDT",
        "MANAUSDT",
        "MASKUSDT",
        "MBLUSDT",
        "MDTUSDT",
        "MINAUSDT",
        "MKRUSDT",
        "MLNUSDT",
        "MTLUSDT",
        "NEARUSDT",
        "NEOUSDT",
        "NMRUSDT",
        "OGNUSDT",
        "OGUSDT",
        "OMUSDT",
        "ONEUSDT",
        "ONGUSDT",
        "ONTUSDT",
        "OXTUSDT",
        "PAXGUSDT",
        "PERPUSDT",
        "PHAUSDT",
        "PONDUSDT",
        "PSGUSDT",
        "PUNDIXUSDT",
        "QNTUSDT",
        "QTUMUSDT",
        "QUICKUSDT",
        "RAYUSDT",
        "RIFUSDT",
        "RLCUSDT",
        "ROSEUSDT",
        "RSRUSDT",
        "RUNEUSDT",
        "RVNUSDT",
        "SANDUSDT",
        "SCUSDT",
        "SFPUSDT",
        "SHIBUSDT",
        "SKLUSDT",
        "SLPUSDT",
        "SNXUSDT",
        "SOLUSDT",
        "STORJUSDT",
        "STPTUSDT",
        "STRAXUSDT",
        "STXUSDT",
        "SUNUSDT",
        "SUPERUSDT",
        "SUSHIUSDT",
        "SXPUSDT",
        "TFUELUSDT",
        "THETAUSDT",
        "TKOUSDT",
        "TLMUSDT",
        "TRBUSDT",
        "TRUUSDT",
        "TRXUSDT",
        "TUSDUSDT",
        "TWTUSDT",
        "UMAUSDT",
        "UNIUSDT",
        "USDCUSDT",
        "UTKUSDT",
        "VETUSDT",
        "VTHOUSDT",
        "WANUSDT",
        "WINUSDT",
        "XLMUSDT",
        "XRPUSDT",
        "XTZUSDT",
        "XVGUSDT",
        "XVSUSDT",
        "YFIUSDT",
        "ZECUSDT",
        "ZENUSDT",
        "ZILUSDT",
        "ZRXUSDT",
        "BNBUSDT",
        "ETHUSDT",
        "NKNUSDT",
        "BARUSDT",
        "MBOXUSDT",
        "REQUSDT",
        "GHSTUSDT",
        "WAXPUSDT",
        "GNOUSDT",
        "XECUSDT",
        "DYDXUSDT",
        "IDEXUSDT",
        "USDPUSDT",
        "GALAUSDT",
        "ILVUSDT",
        "YGGUSDT",
        "SYSUSDT",
        "DFUSDT",
        "FIDAUSDT",
        "AGLDUSDT",
        "RADUSDT",
        "RAREUSDT",
        "LAZIOUSDT",
        "CHESSUSDT",
        "ADXUSDT",
        "AUCTIONUSDT",
        "MOVRUSDT",
        "CITYUSDT",
        "ENSUSDT",
        "QIUSDT",
        "PORTOUSDT",
        "POWRUSDT",
        "JASMYUSDT",
        "AMPUSDT",
        "PYRUSDT",
        "ALCXUSDT",
        "SANTOSUSDT",
        "BICOUSDT",
        "FLUXUSDT",
        "FXSUSDT",
        "VOXELUSDT",
        "HIGHUSDT",
        "CVXUSDT",
        "PEOPLEUSDT",
        "SPELLUSDT",
        "JOEUSDT",
        "ACHUSDT",
        "IMXUSDT",
        "GLMRUSDT",
        "LOKAUSDT",
        "SCRTUSDT",
        "API3USDT",
        "BTTCUSDT",
        "ACAUSDT",
        "XNOUSDT",
        "WOOUSDT",
        "ALPINEUSDT",
        "TUSDT",
        "ASTRUSDT",
        "GMTUSDT",
        "KDAUSDT",
        "APEUSDT",
        "BSWUSDT",
        "BIFIUSDT",
        "STEEMUSDT",
        "NEXOUSDT",
        "REIUSDT",
        "LDOUSDT",
        "OPUSDT",
        "LEVERUSDT",
        "STGUSDT",
        "LUNCUSDT",
        "GMXUSDT",
        "POLYXUSDT",
        "APTUSDT",
        "OSMOUSDT",
        "HFTUSDT",
        "PHBUSDT",
        "HOOKUSDT",
        "MAGICUSDT",
        "HIFIUSDT",
        "RPLUSDT",
        "GNSUSDT",
        "SYNUSDT",
        "SSVUSDT",
        "LQTYUSDT",
        "USTCUSDT",
        "GASUSDT",
        "GLMUSDT",
        "PROMUSDT",
        "QKCUSDT",
        "IDUSDT",
        "ARBUSDT",
        "RDNTUSDT",
        "WBTCUSDT",
        "EDUUSDT",
        "SUIUSDT",
        "PEPEUSDT",
        "FLOKIUSDT",
        "MAVUSDT",
        "PENDLEUSDT",
        "ARKMUSDT",
        "WBETHUSDT",
        "WLDUSDT",
        "FDUSDUSDT",
        "SEIUSDT",
        "CYBERUSDT",
        "ARKUSDT",
        "IQUSDT",
        "NTRNUSDT",
        "TIAUSDT",
        "MEMEUSDT",
        "ORDIUSDT",
        "BEAMXUSDT",
        "PIVXUSDT",
        "VICUSDT",
        "BLURUSDT",
        "VANRYUSDT",
        "AEURUSDT",
        "JTOUSDT",
        "1000SATSUSDT",
        "BONKUSDT",
        "ACEUSDT",
        "NFPUSDT",
        "AIUSDT",
        "XAIUSDT",
        "MANTAUSDT",
        "ALTUSDT",
        "JUPUSDT",
        "PYTHUSDT",
        "RONINUSDT",
        "DYMUSDT",
        "PIXELUSDT",
        "STRKUSDT",
        "PORTALUSDT",
        "AXLUSDT",
        "WIFUSDT",
        "METISUSDT",
        "AEVOUSDT",
        "BOMEUSDT",
        "ETHFIUSDT",
        "ENAUSDT",
        "WUSDT",
        "TNSRUSDT",
        "SAGAUSDT",
        "TAOUSDT",
        "OMNIUSDT",
        "REZUSDT",
        "BBUSDT",
        "NOTUSDT",
        "IOUSDT",
        "ZKUSDT",
        "LISTAUSDT",
        "ZROUSDT",
        "GUSDT",
        "BANANAUSDT",
        "RENDERUSDT",
        "TONUSDT",
        "DOGSUSDT",
        "EURIUSDT",
        "SLFUSDT",
        "POLUSDT",
        "NEIROUSDT",
        "TURBOUSDT",
        "1MBABYDOGEUSDT",
        "CATIUSDT",
        "HMSTRUSDT",
        "EIGENUSDT",
        "SCRUSDT",
        "BNSOLUSDT",
        "LUMIAUSDT",
        "KAIAUSDT",
        "COWUSDT",
        "CETUSUSDT",
        "PNUTUSDT",
        "ACTUSDT",
        "USUALUSDT",
        "THEUSDT",
        "ACXUSDT",
        "ORCAUSDT",
        "MOVEUSDT",
        "MEUSDT",
        "VELODROMEUSDT",
        "VANAUSDT",
        "1000CATUSDT",
        "PENGUUSDT",
        "BIOUSDT",
        "DUSDT",
        "AIXBTUSDT",
        "CGPTUSDT",
        "COOKIEUSDT",
        "SUSDT",
        "SOLVUSDT",
        "TRUMPUSDT",
        "ANIMEUSDT",
        "BERAUSDT",
        "1000CHEEMSUSDT",
        "TSTUSDT",
        "LAYERUSDT",
        "HEIUSDT",
        "KAITOUSDT",
        "SHELLUSDT",
        "REDUSDT",
        "GPSUSDT",
        "EPICUSDT",
        "BMTUSDT",
        "FORMUSDT",
        "XUSDUSDT",
        "NILUSDT",
        "PARTIUSDT",
        "MUBARAKUSDT",
        "TUTUSDT",
        "BANANAS31USDT",
        "BROCCOLI714USDT",
        "GUNUSDT",
        "BABYUSDT",
        "ONDOUSDT",
        "BIGTIMEUSDT",
        "VIRTUALUSDT",
        "KERNELUSDT",
        "WCTUSDT",
        "HYPERUSDT",
        "INITUSDT",
        "SIGNUSDT",
        "STOUSDT",
        "SYRUPUSDT",
        "KMNOUSDT",
        "SXTUSDT"
    ]*/

    let listedCoins =   [
        "BTCUSDT",
        "1INCHUSDT",
        "AAVEUSDT",
        "ACMUSDT",
        "ADAUSDT",
        "ALGOUSDT",
        "ALICEUSDT",
        
    ]
     // Moedas pareadas com o dolar ou euro
     let stableCurrencies = ["TUSDUSDT", "USDPUSDT", "FDUSDUSDT", "EURIUSDT", "XUSDUSDT", "USDCUSDT", "EURUSDT"];

    try {
        let client = await getClient();
        let currenciesSymbolPrices = await client.prices();
        const currencies = Object.entries(currenciesSymbolPrices).map(([symbol, price]) => ({
            id: null,
            symbol: symbol,
            price: price
        }))
        // Filtra moedas em USDT e listadas no site da binance e que não são stablecoins
        .filter(currency=> listedCoins.includes(currency.symbol) && !stableCurrencies.includes(currency.symbol));
        
        return currencies;
    } catch (error) {
        console.error('Error fetching prices:', error);
    }
    return candles;
}